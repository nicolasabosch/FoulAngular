<form #crudView="ngForm" class="form-crud">
    <crud-toolbar [form]="this"></crud-toolbar>

    <div class="form-body">
        <div class="row">

            <div class="col-sm-2 form-group">
                <label for="txtMatchDate" tlt>
                    Fecha
                </label>
                <p class="input-group">
                    <input type="text" ngbDatepicker #txtMatchDate="ngbDatepicker" style="max-width:120px"
                        [(ngModel)]="record.MatchDate" [crud-required]="action" name="txtMatchDate"
                        tlt-placeholder="Fecha" class="form-control" onfocus="blur();">

                    <span (click)="txtMatchDate.toggle()" class="btn btn-outline-secondary" style="cursor: pointer;"
                        crud-show-c-u="{{action}}" tabindex="-1">
                        <i class="far fa-calendar-alt"></i>
                    </span>
                </p>
            </div>

            <div class="col-sm-2 form-group">
                <label for="txtZoneID" tlt>
                    Zona
                </label>
                <p class="input-group">
                    <select [(ngModel)]="record.ZoneID" class="form-control" autocomplete="off" [crud-key]="action"
                        tlt-placeholder="Zona" name="txtZoneID">
                        <option [ngValue]=undefined selected tlt> - Seleccione -</option>
                        <option [value]="T.ZoneID" *ngFor="let T of ZoneList | orderBy:'ZoneName'">
                            {{ T.ZoneName }}</option>
                    </select>


                </p>
            </div>
            <div class="col-sm-3 form-group">
                <label for="Local" tlt>
                    Equipo Local
                </label>
                <p class="input-group">
                    <input id="typeahead-template" type="text" class="form-control" [(ngModel)]="record.HomeTeam"
                        name="HomeTeamID" [crud-key]="action" [ngbTypeahead]="tableSearch('Team')"
                        [focusFirst]='true' [editable]='false' autocomplete='off' crud-typeahead
                        [displayFieldName]="'TeamName'" tlt-placeholder="Equipo Local"
                        (ngModelChange)="record.HomeTeamID = record.HomeTeam.TeamID" />



                </p>
            </div>
            <div class="col-sm-3 form-group">
                <label for="Visitante" tlt>
                    Equipo Visitante
                </label>
                <p class="input-group">
                    <input id="typeahead-template" type="text" class="form-control" [(ngModel)]="record.AwayTeam"
                        name="AwayTeamID" [crud-key]="action" [ngbTypeahead]="tableSearch('Team')"
                        [focusFirst]='true' [editable]='false' autocomplete='off' crud-typeahead
                        [displayFieldName]="'TeamName'" tlt-placeholder="Equipo Visitante"
                        (ngModelChange)="record.AwayTeamID = record.AwayTeam.TeamID" />



                </p>
            </div>
            <div class="col-sm-2 form-group">

                <label for="txtMatchStatusID" tlt>
                    Estado de Partido
                </label>
                <p class="input-group">
                    <select [(ngModel)]="record.MatchStatusID" class="form-control" autocomplete="off"
                        [crud-required]="action" tlt-placeholder="Zona" name="txtMatchStatusID">
                        <option [ngValue]=undefined selected tlt> - Seleccione -</option>
                        <option [ngValue]="T.MatchStatusID"
                            *ngFor="let T of MatchStatusList | orderBy:'MatchStatusName'">
                            {{ T.MatchStatusName }}</option>
                    </select>


                </p>
            </div>


        </div>
        <div class="row">
            <div class="col-sm-4 form-group">
                <label for="txtUserID" tlt>
                    Árbitro
                </label>
                <select [(ngModel)]="record.UserID" class="form-control" autocomplete="off" [crud-key]="action"
                    tlt-placeholder="Árbitro" name="txtUserID">
                    <option [ngValue]=undefined selected tlt> - Seleccione -</option>
                    <option [value]="T.UserID" *ngFor="let T of UserList | orderBy:'UserName'">
                        {{ T.UserName }}</option>
                </select>
            </div>
            <div class="col-sm-2 form-group" *ngIf="action !=='Adding'">
                <label for="txtUserID" tlt>
                    Goles Local
                </label>
                <input type="text" [(ngModel)]="record.HomeGoals" class="form-control" autocomplete="off"
                    style="text-align: right" [crud-non-required]="action" numeric="0" tlt-placeholder="Goles Local"
                    name="HomeGoals" />
            </div>
            <div class="col-sm-2 form-group" *ngIf="action !=='Adding'">
                <label tlt>
                    Goles Visitante
                </label>
                <input type="text" [(ngModel)]="record.AwayGoals" class="form-control" autocomplete="off"
                    style="text-align: right" [crud-non-required]="action" numeric="0" tlt-placeholder="Goles Visitante"
                    name="AwayGoals" />
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-12 form-group"  style="text-align: center;" *ngIf="record.MatchStatusID =='NotStarted' && action=='Viewing'" >
            <button class="btn btn-success" (click)="startMatch()">Comenzar Partido</button>
        </div>
        

    </div>
    
</form>